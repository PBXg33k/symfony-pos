{% extends 'AppBundle::base.html.twig' %}


{% macro tagCollectionItem(formData) %}

    <div class="row">
        <div class="col-lg-2 col-xs-12">
            {{ form_row(formData.product) }}
        </div>

        <div class="col-lg-2 col-xs-12">
            {{ form_row(formData.qty) }}
        </div>

        <div class="col-lg-2 col-xs-12">
            {{ form_row(formData.price) }}
        </div>

        <div class="col-lg-2 col-xs-12">
            {{ form_row(formData.subtotal) }}
        </div>
        <div class="col-lg-2 col-xs-12">
            <a href="#" class="delete_item"> <span class="glyphicon glyphicon-remove" aria-hidden="true"></span> </a>
        </div>
    </div>
{% endmacro %}


{% block body -%}
    <h1>{{ 'sale.labels.self'|trans }} {{ 'crud.labels.new'|trans }}</h1>

    {{ form_start(form) }}

    <div id="form_items">


        <ul class="items" data-prototype="{{ _self.tagCollectionItem(form.items.vars.prototype)|e }}" data-index="{{ form.items.count }}">
            {% for item in form.items %}
                {{ _self.tagCollectionItem(item) }}
            {% endfor %}
        </ul>
    </div>
    <div class="row">
        <div class="col-lg-12">
            <a  id="addItem"> <span  class="glyphicon glyphicon-plus" aria-hidden="true"></span> </a>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-offset-4 col-lg-3 col-xs-12">
            {{ form_row(form.person) }}
        </div>
    </div>
    <div class="row">
        <div class="col-lg-offset-4 col-lg-3 col-xs-12">
            {{ form_row(form.cash) }}
        </div>
    </div>
    <div class="row">
        <div class="col-lg-offset-4 col-lg-3 col-xs-12">
        {{ form_row(form.total) }}
        </div>
    </div>

    <div class="row">
        <div class="col-lg-offset-4 col-lg-3 col-xs-12">
            {{ form_row(form.submit) }}
        </div>
    </div>

    {{ form_row(form._token) }}
    {{ form_end(form) }}


    <ul class="record_actions">
        <li>
            <a href="{{ path('sale') }}">
                {{ 'Back to the list'|trans }}
            </a>
        </li>
    </ul>


    <div class="row" id="bottom_bar">
        <div class="col-xs-12">

            <button class="btn btn-primary" id="saveEntity" style="width: 32%"> {{ 'Save' | trans }} </button>
            <button class="btn btn-default" id="goBack" style="width: 32%"> {{ 'Dismiss' | trans }}  </button>

        </div>
    </div>

{% endblock %}
